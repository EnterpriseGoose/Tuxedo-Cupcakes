{
  "id": "/project/Tuxedo-Cupcakes/src/routes/virtual-market/order.tsx",
  "deps": [],
  "plugins": [
    "__load__",
    "solid",
    "vite:import-analysis"
  ],
  "transforms": [
    {
      "name": "__load__",
      "result": "import { createEffect, createSignal, For, Match, Show, Switch } from 'solid-js';\r\nimport Layout from '~/components/Layout';\r\nimport styles from './order.module.scss';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { useSearchParams, A } from 'solid-start';\r\nimport EmailForm from '~/components/EmailForm';\r\n\r\nconst products = [\r\n  { name: 'Box of 2 regular cupcakes', cost: 8, custom: 'flavor' },\r\n  { name: 'Box of 4 regular cupcakes', cost: 15, custom: 'flavor' },\r\n  { name: 'Box of 6 regular cupcakes', cost: 20, custom: 'flavor' },\r\n  { name: 'Box of 12 regular cupcakes', cost: 40, custom: 'flavor' },\r\n  { name: 'Box of 6 mini cupcakes', cost: 10, custom: 'flavor' },\r\n  { name: 'Box of 12 mini cupcakes', cost: 20, custom: 'flavor' },\r\n  { name: 'Box of 6 penguin chocolates', cost: 15, custom: 'flavor' },\r\n  { name: 'Box of 12 penguin chocolates', cost: 25, custom: 'flavor' },\r\n  { name: 'Caramel Cashews - 4oz', cost: 5, custom: 'none' },\r\n];\r\n\r\nexport default function VirtualMarket() {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [dates, setDates] = createSignal([\r\n    [new Date(2022, 11, 18), 'Gingerbread & Panettone'],\r\n  ]);\r\n  const [cart, setCart] = createSignal([], { equals: false });\r\n  let placeOrderButton: HTMLInputElement;\r\n\r\n  createEffect(() => {\r\n    if (cart().length === 0) {\r\n      placeOrderButton.children[0].disabled = true;\r\n    } else {\r\n      placeOrderButton.children[0].disabled = false;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Layout>\r\n      <div class={styles.sections}>\r\n        <div class={`${styles.section} ${styles.one}`}>\r\n          <h2>Place an Order for the Holiday Virtual Market</h2>\r\n          <p>\r\n            Place an order for the December 18th Holiday Virtual Market using\r\n            the form below. The deadline for placing orders is Thursday,\r\n            December 15th.\r\n          </p>\r\n          <A href=\"/virtual-market/faqs\">Virtual Market FAQs</A>\r\n          <br />\r\n          <br />\r\n          <h4>Process of ordering cupcakes</h4>\r\n          <ol>\r\n            <li>\r\n              Place an order by Thursday, December 15th using the form below.\r\n              You will receive a confirmation email within a day confirming your\r\n              order.\r\n            </li>\r\n            <li>\r\n              On Sunday, December 18th (the day of delivery), a more exact\r\n              delivery time will be texted to you if you selected to get\r\n              delivery notification texts.\r\n            </li>\r\n            <li>\r\n              Shortly before your order is delivered, you will receive another\r\n              text.\r\n            </li>\r\n            <li>\r\n              When you receive your cupcakes, you can pay using cash, credit,\r\n              venmo, etc. (there is a small fee if using anything except cash).\r\n            </li>\r\n            <li>Enjoy your cupcakes!</li>\r\n          </ol>\r\n          <br />\r\n          (If you select to have your cupcakes delivered to you at CHS, the\r\n          process will be slightly different. See{' '}\r\n          <A href=\"/virtual-market/faqs\">the FAQs</A> for more information)\r\n          <br /> <br /> <br />\r\n          <h4>Cupcake Flavors</h4>\r\n          <p>\r\n            Vanilla-Vanilla\r\n            <br />\r\n            Vanilla-Chocolate\r\n            <br />\r\n            Chocolate-Vanilla\r\n            <br />\r\n            Chocolate-Chocolate\r\n            <br />\r\n            (Cake-Frosting)\r\n            <br />\r\n            <br />\r\n            Gingerbread - Gingerbread cake with a light cream cheese frosting\r\n            <br />\r\n            Panettone - Panettone cake with a mascarpone frosting\r\n            <br />\r\n          </p>\r\n          <br /> <br />\r\n          <h4>Penguin Chocolates Flavors</h4>\r\n          <p>\r\n            Raspberry <br />\r\n            Hazelnut <br />\r\n            Caramel <br />\r\n          </p>\r\n          <br /> <br />\r\n          <h4>Pricing</h4>\r\n          <p>\r\n            Cupcakes and chocolates are sold by the box. A box can contain any\r\n            mix of flavors.\r\n            <br />\r\n            Candied cashews are sold in 4oz bags\r\n          </p>\r\n          <p>\r\n            Delivery is free within Chatham and some neighboring towns. I am\r\n            also a student at CHS, so I can deliver them to you at CHS on a\r\n            school day following the market date. There may be an additional fee\r\n            for deliveries more than a few miles out from Chatham. Contact me at{' '}\r\n            <a\r\n              href=\"mailto:oliver@tuxedocupcakes.com\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              oliver@tuxedocupcakes.com\r\n            </a>{' '}\r\n            with any questions.\r\n          </p>\r\n        </div>\r\n        <img src=\"/images/decorations/bow-divider.svg\" class={styles.divider} />\r\n        <div class={`${styles.section} ${styles.two}`}>\r\n          <h3>Products</h3>\r\n          <p>\r\n            Click on a product to add it to your cart. Flavors are chosen in the\r\n            cart (cart is below)\r\n          </p>{' '}\r\n          <br />\r\n          <div id={styles.productGrid}>\r\n            <For each={products}>\r\n              {(product, i) => (\r\n                <div\r\n                  onClick={() => {\r\n                    setCart([...cart(), product]);\r\n                  }}\r\n                >\r\n                  <p class={styles.productName}>{product.name}</p>\r\n                  <br />\r\n                  <p class={styles.productCost}>${product.cost}</p>\r\n                </div>\r\n              )}\r\n            </For>\r\n          </div>\r\n        </div>\r\n        <img src=\"/images/decorations/bow-divider.svg\" class={styles.divider} />\r\n        <div class={`${styles.section} ${styles.three}`}>\r\n          <h3>Cart</h3>\r\n          <br />\r\n          <form\r\n            action=\"\"\r\n            method=\"post\"\r\n            onsubmit={(event) => {\r\n              placeOrder(event, setSearchParams, setCart);\r\n            }}\r\n          >\r\n            <div id={styles.order}>\r\n              <For each={cart()} fallback={<p>Your cart is currently empty</p>}>\r\n                {(item, i) => (\r\n                  <div class=\"cart-item\">\r\n                    <p class={styles.name}>{item.name}</p>\r\n                    <Show when={item.custom === 'flavor'}>\r\n                      <textarea\r\n                        name=\"flavors\"\r\n                        placeholder=\"*Flavor(s)&#10;(see above for flavors)\"\r\n                        required\r\n                        spellcheck\r\n                      ></textarea>\r\n                    </Show>\r\n                    <p class={styles.cost}>${item.cost}</p>\r\n                    <button\r\n                      onClick={() => {\r\n                        let cartItems = cart();\r\n                        cartItems.splice(i(), 1);\r\n                        setCart(cartItems);\r\n                      }}\r\n                    >\r\n                      x\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </For>\r\n              <Show when={cart().length !== 0}>\r\n                <div class={styles.cartTotal}>\r\n                  <p>\r\n                    Cart total if paying with cash: $\r\n                    {cart().reduce((sum, next) => sum + next.cost, 0)}\r\n                  </p>\r\n                  <p>\r\n                    Cart total if paying with credit card / venmo / paypal: $\r\n                    {Math.round(\r\n                      (cart().reduce((sum, next) => sum + next.cost, 0) *\r\n                        1.025 +\r\n                        0.09) *\r\n                        100\r\n                    ) / 100}\r\n                  </p>\r\n                </div>\r\n              </Show>\r\n            </div>\r\n            <div id={styles.orderForm}>\r\n              <div id={styles.email}>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"*Email\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div id={styles.name}>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  placeholder=\"*Full Name\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div id={styles.phone}>\r\n                <input\r\n                  type=\"tel\"\r\n                  name=\"phone\"\r\n                  placeholder=\"*Phone Number\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div id={styles.address}>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"address\"\r\n                  placeholder=\"*Address\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div id={styles.shipping}>\r\n                <textarea\r\n                  name=\"shipping\"\r\n                  cols=\"10\"\r\n                  rows=\"3\"\r\n                  placeholder=\"Any extra details needed for delivery&#10;(not required)&#10;Are you a student or staff at CHS and want them delivered to you at CHS on Monday, December 19th? Specify here!\"\r\n                  spellcheck\r\n                ></textarea>\r\n              </div>\r\n              <div id={styles.deliveryTexts}>\r\n                <p>Check box to get delivery texts</p>\r\n                <input type=\"checkbox\" name=\"deliveryTexts\" />\r\n              </div>\r\n              <div id={styles.newsletter}>\r\n                <p>\r\n                  Check box to sign up for occasional email updates about Tuxedo\r\n                  Cupcakes\r\n                </p>\r\n                <input type=\"checkbox\" name=\"newsletter\" />\r\n              </div>\r\n              <div id={styles.placeOrder} ref={placeOrderButton}>\r\n                <input type=\"submit\" value=\"Place Order\" /> (* = required)\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div id={styles.orderStatus}>\r\n            <Switch>\r\n              <Match when={searchParams.orderStatus === '201'}>\r\n                Order placed!\r\n                <br />\r\n                <br />\r\n                <br />\r\n              </Match>\r\n              <Match when={searchParams.orderStatus === '409'}>\r\n                An unknown error occurred. Try again.\r\n                <br />\r\n                <br />\r\n                <br />\r\n              </Match>\r\n              <Match\r\n                when={\r\n                  searchParams.orderStatus !== '201' &&\r\n                  searchParams.orderStatus !== '409' &&\r\n                  searchParams.orderStatus !== undefined\r\n                }\r\n              >\r\n                An unknown error occurred. Try again.\r\n                <br />\r\n                <br />\r\n                <br />\r\n              </Match>\r\n            </Switch>\r\n          </div>\r\n\r\n          <p>\r\n            The deadline for orders is Thursday, December 15th.\r\n            <br /> <br />\r\n            Sign up to be updated about this virtual market and future virtual\r\n            markets, as well as other news about Tuxedo Cupcakes:\r\n          </p>\r\n          <EmailForm />\r\n        </div>\r\n        <img src=\"/images/decorations/bow-divider.svg\" class={styles.divider} />\r\n        <div class={`${styles.section} ${styles.four}`}>\r\n          <h3>Contact me</h3>\r\n          <h4>\r\n            Contact me at\r\n            <br />\r\n            <a\r\n              href=\"mailto:oliver@tuxedocupcakes.com\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              oliver@tuxedocupcakes.com\r\n            </a>\r\n          </h4>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nasync function placeOrder(\r\n  event: SubmitEvent,\r\n  setSearchParams: any,\r\n  setCart: any\r\n) {\r\n  event.preventDefault();\r\n  let email = (\r\n    event.target.children[1].children[0].children[0] as HTMLInputElement\r\n  ).value;\r\n  let name = (\r\n    event.target.children[1].children[1].children[0] as HTMLInputElement\r\n  ).value;\r\n  let phone = (\r\n    event.target.children[1].children[2].children[0] as HTMLInputElement\r\n  ).value;\r\n  let address = (\r\n    event.target.children[1].children[3].children[0] as HTMLInputElement\r\n  ).value;\r\n  let deliveryInfo = (\r\n    event.target.children[1].children[4].children[0] as HTMLTextAreaElement\r\n  ).value;\r\n  let textDeliveryUpdates = (\r\n    event.target.children[1].children[5].children[1] as HTMLInputElement\r\n  ).checked;\r\n  let newsletter = (\r\n    event.target.children[1].children[6].children[1] as HTMLInputElement\r\n  ).checked;\r\n\r\n  let cartItems: HTMLDivElement[] =\r\n    document.getElementsByClassName('cart-item');\r\n  let cart = Array.from(cartItems, (item) => ({\r\n    item: item.children[0].textContent,\r\n    flavor:\r\n      item.children[1].tagName === 'TEXTAREA' ? item.children[1].value : '',\r\n    cost:\r\n      item.children[1].tagName === 'TEXTAREA'\r\n        ? item.children[2].value\r\n        : item.children[1].value,\r\n  }));\r\n\r\n  const supabase = createClient(\r\n    'https://rxznihvftodgtjdtzbyr.supabase.co',\r\n    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4em5paHZmdG9kZ3RqZHR6YnlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Njg5MTgzNjUsImV4cCI6MTk4NDQ5NDM2NX0.Hqb-OC8vN2zoMZobwouS4QTGA0X0KLBQzM3O8btvwLE'\r\n  );\r\n  let response = await supabase.from('orders').insert({\r\n    email,\r\n    name,\r\n    phone,\r\n    address,\r\n    order: JSON.stringify(cart),\r\n    deliveryInfo,\r\n    textDeliveryUpdates,\r\n    newsletter,\r\n  });\r\n  console.log(response.status);\r\n  setSearchParams({ orderStatus: response.status });\r\n  if (response.status == 201) {\r\n    (\r\n      event.target.children[1].children[0].children[0] as HTMLInputElement\r\n    ).value = '';\r\n    (\r\n      event.target.children[1].children[1].children[0] as HTMLInputElement\r\n    ).value = '';\r\n    (\r\n      event.target.children[1].children[2].children[0] as HTMLInputElement\r\n    ).value = '';\r\n    (\r\n      event.target.children[1].children[3].children[0] as HTMLInputElement\r\n    ).value = '';\r\n    (\r\n      event.target.children[1].children[4].children[0] as HTMLTextAreaElement\r\n    ).value = '';\r\n    (\r\n      event.target.children[1].children[5].children[1] as HTMLInputElement\r\n    ).checked = false;\r\n    (\r\n      event.target.children[1].children[6].children[1] as HTMLInputElement\r\n    ).checked = false;\r\n  }\r\n  setCart([]);\r\n}\r\n",
      "start": 1681505649587,
      "end": 1681505649587
    },
    {
      "name": "solid",
      "result": "import { template as _$template } from \"solid-js/web\";\nimport { delegateEvents as _$delegateEvents } from \"solid-js/web\";\nimport { runHydrationEvents as _$runHydrationEvents } from \"solid-js/web\";\nimport { setAttribute as _$setAttribute } from \"solid-js/web\";\nimport { memo as _$memo } from \"solid-js/web\";\nimport { use as _$use } from \"solid-js/web\";\nimport { className as _$className } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nimport { getNextElement as _$getNextElement } from \"solid-js/web\";\nimport { getNextMarker as _$getNextMarker } from \"solid-js/web\";\nimport { insert as _$insert } from \"solid-js/web\";\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { esm as _esm } from \"solid-refresh\";\nconst _tmpl$ = /*#__PURE__*/_$template(`<div><p>Cart total if paying with cash: $<!#><!/></p><p>Cart total if paying with credit card / venmo / paypal: $<!#><!/></p></div>`, 10),\n  _tmpl$2 = /*#__PURE__*/_$template(`<br>`, 1),\n  _tmpl$3 = /*#__PURE__*/_$template(`<div><div><h2>Place an Order for the Holiday Virtual Market</h2><p>Place an order for the December 18th Holiday Virtual Market using the form below. The deadline for placing orders is Thursday, December 15th.</p><!#><!/><br><br><h4>Process of ordering cupcakes</h4><ol><li>Place an order by Thursday, December 15th using the form below. You will receive a confirmation email within a day confirming your order.</li><li>On Sunday, December 18th (the day of delivery), a more exact delivery time will be texted to you if you selected to get delivery notification texts.</li><li>Shortly before your order is delivered, you will receive another text.</li><li>When you receive your cupcakes, you can pay using cash, credit, venmo, etc. (there is a small fee if using anything except cash).</li><li>Enjoy your cupcakes!</li></ol><br>(If you select to have your cupcakes delivered to you at CHS, the process will be slightly different. See <!#><!/> for more information)<br> <br> <br><h4>Cupcake Flavors</h4><p>Vanilla-Vanilla<br>Vanilla-Chocolate<br>Chocolate-Vanilla<br>Chocolate-Chocolate<br>(Cake-Frosting)<br><br>Gingerbread - Gingerbread cake with a light cream cheese frosting<br>Panettone - Panettone cake with a mascarpone frosting<br></p><br> <br><h4>Penguin Chocolates Flavors</h4><p>Raspberry <br>Hazelnut <br>Caramel <br></p><br> <br><h4>Pricing</h4><p>Cupcakes and chocolates are sold by the box. A box can contain any mix of flavors.<br>Candied cashews are sold in 4oz bags</p><p>Delivery is free within Chatham and some neighboring towns. I am also a student at CHS, so I can deliver them to you at CHS on a school day following the market date. There may be an additional fee for deliveries more than a few miles out from Chatham. Contact me at <a href=\"mailto:oliver@tuxedocupcakes.com\" target=\"_blank\" rel=\"noopener noreferrer\">oliver@tuxedocupcakes.com</a> with any questions.</p></div><img src=\"/images/decorations/bow-divider.svg\"><div><h3>Products</h3><p>Click on a product to add it to your cart. Flavors are chosen in the cart (cart is below)</p> <br><div></div></div><img src=\"/images/decorations/bow-divider.svg\"><div><h3>Cart</h3><br><form action=\"\" method=\"post\"><div><!#><!/><!#><!/></div><div><div><input type=\"email\" name=\"email\" placeholder=\"*Email\" required></div><div><input type=\"text\" name=\"name\" placeholder=\"*Full Name\" required></div><div><input type=\"tel\" name=\"phone\" placeholder=\"*Phone Number\" required></div><div><input type=\"text\" name=\"address\" placeholder=\"*Address\" required></div><div><textarea name=\"shipping\" cols=\"10\" rows=\"3\" placeholder=\"Any extra details needed for delivery\n(not required)\nAre you a student or staff at CHS and want them delivered to you at CHS on Monday, December 19th? Specify here!\" spellcheck></textarea></div><div><p>Check box to get delivery texts</p><input type=\"checkbox\" name=\"deliveryTexts\"></div><div><p>Check box to sign up for occasional email updates about Tuxedo Cupcakes</p><input type=\"checkbox\" name=\"newsletter\"></div><div><input type=\"submit\" value=\"Place Order\"> (* = required)</div></div></form><div></div><p>The deadline for orders is Thursday, December 15th.<br> <br>Sign up to be updated about this virtual market and future virtual markets, as well as other news about Tuxedo Cupcakes:</p><!#><!/></div><img src=\"/images/decorations/bow-divider.svg\"><div><h3>Contact me</h3><h4>Contact me at<br><a href=\"mailto:oliver@tuxedocupcakes.com\" target=\"_blank\" rel=\"noopener noreferrer\">oliver@tuxedocupcakes.com</a></h4></div></div>`, 137),\n  _tmpl$4 = /*#__PURE__*/_$template(`<div><p></p><br><p>$<!#><!/></p></div>`, 9),\n  _tmpl$5 = /*#__PURE__*/_$template(`<p>Your cart is currently empty</p>`, 2),\n  _tmpl$6 = /*#__PURE__*/_$template(`<textarea name=\"flavors\" placeholder=\"*Flavor(s)\n(see above for flavors)\" required spellcheck></textarea>`, 2),\n  _tmpl$7 = /*#__PURE__*/_$template(`<div class=\"cart-item\"><p></p><!#><!/><p>$<!#><!/></p><button>x</button></div>`, 12);\nimport { createEffect, createSignal, For, Match, Show, Switch } from 'solid-js';\nimport Layout from '~/components/Layout';\nimport styles from './order.module.scss';\nimport { createClient } from '@supabase/supabase-js';\nimport { useSearchParams, A } from 'solid-start';\nimport EmailForm from '~/components/EmailForm';\nconst products = [{\n  name: 'Box of 2 regular cupcakes',\n  cost: 8,\n  custom: 'flavor'\n}, {\n  name: 'Box of 4 regular cupcakes',\n  cost: 15,\n  custom: 'flavor'\n}, {\n  name: 'Box of 6 regular cupcakes',\n  cost: 20,\n  custom: 'flavor'\n}, {\n  name: 'Box of 12 regular cupcakes',\n  cost: 40,\n  custom: 'flavor'\n}, {\n  name: 'Box of 6 mini cupcakes',\n  cost: 10,\n  custom: 'flavor'\n}, {\n  name: 'Box of 12 mini cupcakes',\n  cost: 20,\n  custom: 'flavor'\n}, {\n  name: 'Box of 6 penguin chocolates',\n  cost: 15,\n  custom: 'flavor'\n}, {\n  name: 'Box of 12 penguin chocolates',\n  cost: 25,\n  custom: 'flavor'\n}, {\n  name: 'Caramel Cashews - 4oz',\n  cost: 5,\n  custom: 'none'\n}];\nexport const $$registrations = {};\nconst _Hot$$VirtualMarket = function VirtualMarket() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [dates, setDates] = createSignal([[new Date(2022, 11, 18), 'Gingerbread & Panettone']]);\n  const [cart, setCart] = createSignal([], {\n    equals: false\n  });\n  let placeOrderButton;\n  createEffect(() => {\n    if (cart().length === 0) {\n      placeOrderButton.children[0].disabled = true;\n    } else {\n      placeOrderButton.children[0].disabled = false;\n    }\n  });\n  return _$createComponent(Layout, {\n    get children() {\n      const _el$ = _$getNextElement(_tmpl$3),\n        _el$2 = _el$.firstChild,\n        _el$3 = _el$2.firstChild,\n        _el$4 = _el$3.nextSibling,\n        _el$13 = _el$4.nextSibling,\n        [_el$14, _co$] = _$getNextMarker(_el$13.nextSibling),\n        _el$5 = _el$14.nextSibling,\n        _el$6 = _el$5.nextSibling,\n        _el$7 = _el$6.nextSibling,\n        _el$8 = _el$7.nextSibling,\n        _el$9 = _el$8.nextSibling,\n        _el$10 = _el$9.nextSibling,\n        _el$15 = _el$10.nextSibling,\n        [_el$16, _co$2] = _$getNextMarker(_el$15.nextSibling),\n        _el$12 = _el$16.nextSibling,\n        _el$17 = _el$2.nextSibling,\n        _el$18 = _el$17.nextSibling,\n        _el$19 = _el$18.firstChild,\n        _el$20 = _el$19.nextSibling,\n        _el$21 = _el$20.nextSibling,\n        _el$22 = _el$21.nextSibling,\n        _el$23 = _el$22.nextSibling,\n        _el$24 = _el$18.nextSibling,\n        _el$25 = _el$24.nextSibling,\n        _el$26 = _el$25.firstChild,\n        _el$27 = _el$26.nextSibling,\n        _el$28 = _el$27.nextSibling,\n        _el$29 = _el$28.firstChild,\n        _el$39 = _el$29.firstChild,\n        [_el$40, _co$5] = _$getNextMarker(_el$39.nextSibling),\n        _el$41 = _el$40.nextSibling,\n        [_el$42, _co$6] = _$getNextMarker(_el$41.nextSibling),\n        _el$43 = _el$29.nextSibling,\n        _el$44 = _el$43.firstChild,\n        _el$45 = _el$44.nextSibling,\n        _el$46 = _el$45.nextSibling,\n        _el$47 = _el$46.nextSibling,\n        _el$48 = _el$47.nextSibling,\n        _el$49 = _el$48.nextSibling,\n        _el$50 = _el$49.nextSibling,\n        _el$51 = _el$50.nextSibling,\n        _el$52 = _el$28.nextSibling,\n        _el$62 = _el$52.nextSibling,\n        _el$63 = _el$62.nextSibling,\n        [_el$64, _co$7] = _$getNextMarker(_el$63.nextSibling),\n        _el$65 = _el$25.nextSibling,\n        _el$66 = _el$65.nextSibling;\n      _$insert(_el$2, _$createComponent(A, {\n        href: \"/virtual-market/faqs\",\n        children: \"Virtual Market FAQs\"\n      }), _el$14, _co$);\n      _$insert(_el$2, _$createComponent(A, {\n        href: \"/virtual-market/faqs\",\n        children: \"the FAQs\"\n      }), _el$16, _co$2);\n      _$insert(_el$23, _$createComponent(For, {\n        each: products,\n        children: (product, i) => (() => {\n          const _el$67 = _$getNextElement(_tmpl$4),\n            _el$68 = _el$67.firstChild,\n            _el$69 = _el$68.nextSibling,\n            _el$70 = _el$69.nextSibling,\n            _el$71 = _el$70.firstChild,\n            _el$72 = _el$71.nextSibling,\n            [_el$73, _co$8] = _$getNextMarker(_el$72.nextSibling);\n          _el$67.$$click = () => {\n            setCart([...cart(), product]);\n          };\n          _$insert(_el$68, () => product.name);\n          _$insert(_el$70, () => product.cost, _el$73, _co$8);\n          _$effect(_p$ => {\n            const _v$21 = styles.productName,\n              _v$22 = styles.productCost;\n            _v$21 !== _p$._v$21 && _$className(_el$68, _p$._v$21 = _v$21);\n            _v$22 !== _p$._v$22 && _$className(_el$70, _p$._v$22 = _v$22);\n            return _p$;\n          }, {\n            _v$21: undefined,\n            _v$22: undefined\n          });\n          _$runHydrationEvents();\n          return _el$67;\n        })()\n      }));\n      _el$28.addEventListener(\"submit\", event => {\n        placeOrder(event, setSearchParams, setCart);\n      });\n      _$insert(_el$29, _$createComponent(For, {\n        get each() {\n          return cart();\n        },\n        get fallback() {\n          return _$getNextElement(_tmpl$5);\n        },\n        children: (item, i) => (() => {\n          const _el$75 = _$getNextElement(_tmpl$7),\n            _el$76 = _el$75.firstChild,\n            _el$83 = _el$76.nextSibling,\n            [_el$84, _co$10] = _$getNextMarker(_el$83.nextSibling),\n            _el$78 = _el$84.nextSibling,\n            _el$79 = _el$78.firstChild,\n            _el$80 = _el$79.nextSibling,\n            [_el$81, _co$9] = _$getNextMarker(_el$80.nextSibling),\n            _el$82 = _el$78.nextSibling;\n          _$insert(_el$76, () => item.name);\n          _$insert(_el$75, _$createComponent(Show, {\n            get when() {\n              return item.custom === 'flavor';\n            },\n            get children() {\n              return _$getNextElement(_tmpl$6);\n            }\n          }), _el$84, _co$10);\n          _$insert(_el$78, () => item.cost, _el$81, _co$9);\n          _el$82.$$click = () => {\n            let cartItems = cart();\n            cartItems.splice(i(), 1);\n            setCart(cartItems);\n          };\n          _$effect(_p$ => {\n            const _v$23 = styles.name,\n              _v$24 = styles.cost;\n            _v$23 !== _p$._v$23 && _$className(_el$76, _p$._v$23 = _v$23);\n            _v$24 !== _p$._v$24 && _$className(_el$78, _p$._v$24 = _v$24);\n            return _p$;\n          }, {\n            _v$23: undefined,\n            _v$24: undefined\n          });\n          _$runHydrationEvents();\n          return _el$75;\n        })()\n      }), _el$40, _co$5);\n      _$insert(_el$29, _$createComponent(Show, {\n        get when() {\n          return cart().length !== 0;\n        },\n        get children() {\n          const _el$30 = _$getNextElement(_tmpl$),\n            _el$31 = _el$30.firstChild,\n            _el$32 = _el$31.firstChild,\n            _el$33 = _el$32.nextSibling,\n            [_el$34, _co$3] = _$getNextMarker(_el$33.nextSibling),\n            _el$35 = _el$31.nextSibling,\n            _el$36 = _el$35.firstChild,\n            _el$37 = _el$36.nextSibling,\n            [_el$38, _co$4] = _$getNextMarker(_el$37.nextSibling);\n          _$insert(_el$31, () => cart().reduce((sum, next) => sum + next.cost, 0), _el$34, _co$3);\n          _$insert(_el$35, () => Math.round((cart().reduce((sum, next) => sum + next.cost, 0) * 1.025 + 0.09) * 100) / 100, _el$38, _co$4);\n          _$effect(() => _$className(_el$30, styles.cartTotal));\n          return _el$30;\n        }\n      }), _el$42, _co$6);\n      const _ref$ = placeOrderButton;\n      typeof _ref$ === \"function\" ? _$use(_ref$, _el$51) : placeOrderButton = _el$51;\n      _$insert(_el$52, _$createComponent(Switch, {\n        get children() {\n          return [_$createComponent(Match, {\n            get when() {\n              return searchParams.orderStatus === '201';\n            },\n            get children() {\n              return [\"Order placed!\", _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2)];\n            }\n          }), _$createComponent(Match, {\n            get when() {\n              return searchParams.orderStatus === '409';\n            },\n            get children() {\n              return [\"An unknown error occurred. Try again.\", _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2)];\n            }\n          }), _$createComponent(Match, {\n            get when() {\n              return searchParams.orderStatus !== '201' && searchParams.orderStatus !== '409' && searchParams.orderStatus !== undefined;\n            },\n            get children() {\n              return [\"An unknown error occurred. Try again.\", _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2)];\n            }\n          })];\n        }\n      }));\n      _$insert(_el$25, _$createComponent(EmailForm, {}), _el$64, _co$7);\n      _$effect(_p$ => {\n        const _v$ = styles.sections,\n          _v$2 = `${styles.section} ${styles.one}`,\n          _v$3 = styles.divider,\n          _v$4 = `${styles.section} ${styles.two}`,\n          _v$5 = styles.productGrid,\n          _v$6 = styles.divider,\n          _v$7 = `${styles.section} ${styles.three}`,\n          _v$8 = styles.order,\n          _v$9 = styles.orderForm,\n          _v$10 = styles.email,\n          _v$11 = styles.name,\n          _v$12 = styles.phone,\n          _v$13 = styles.address,\n          _v$14 = styles.shipping,\n          _v$15 = styles.deliveryTexts,\n          _v$16 = styles.newsletter,\n          _v$17 = styles.placeOrder,\n          _v$18 = styles.orderStatus,\n          _v$19 = styles.divider,\n          _v$20 = `${styles.section} ${styles.four}`;\n        _v$ !== _p$._v$ && _$className(_el$, _p$._v$ = _v$);\n        _v$2 !== _p$._v$2 && _$className(_el$2, _p$._v$2 = _v$2);\n        _v$3 !== _p$._v$3 && _$className(_el$17, _p$._v$3 = _v$3);\n        _v$4 !== _p$._v$4 && _$className(_el$18, _p$._v$4 = _v$4);\n        _v$5 !== _p$._v$5 && _$setAttribute(_el$23, \"id\", _p$._v$5 = _v$5);\n        _v$6 !== _p$._v$6 && _$className(_el$24, _p$._v$6 = _v$6);\n        _v$7 !== _p$._v$7 && _$className(_el$25, _p$._v$7 = _v$7);\n        _v$8 !== _p$._v$8 && _$setAttribute(_el$29, \"id\", _p$._v$8 = _v$8);\n        _v$9 !== _p$._v$9 && _$setAttribute(_el$43, \"id\", _p$._v$9 = _v$9);\n        _v$10 !== _p$._v$10 && _$setAttribute(_el$44, \"id\", _p$._v$10 = _v$10);\n        _v$11 !== _p$._v$11 && _$setAttribute(_el$45, \"id\", _p$._v$11 = _v$11);\n        _v$12 !== _p$._v$12 && _$setAttribute(_el$46, \"id\", _p$._v$12 = _v$12);\n        _v$13 !== _p$._v$13 && _$setAttribute(_el$47, \"id\", _p$._v$13 = _v$13);\n        _v$14 !== _p$._v$14 && _$setAttribute(_el$48, \"id\", _p$._v$14 = _v$14);\n        _v$15 !== _p$._v$15 && _$setAttribute(_el$49, \"id\", _p$._v$15 = _v$15);\n        _v$16 !== _p$._v$16 && _$setAttribute(_el$50, \"id\", _p$._v$16 = _v$16);\n        _v$17 !== _p$._v$17 && _$setAttribute(_el$51, \"id\", _p$._v$17 = _v$17);\n        _v$18 !== _p$._v$18 && _$setAttribute(_el$52, \"id\", _p$._v$18 = _v$18);\n        _v$19 !== _p$._v$19 && _$className(_el$65, _p$._v$19 = _v$19);\n        _v$20 !== _p$._v$20 && _$className(_el$66, _p$._v$20 = _v$20);\n        return _p$;\n      }, {\n        _v$: undefined,\n        _v$2: undefined,\n        _v$3: undefined,\n        _v$4: undefined,\n        _v$5: undefined,\n        _v$6: undefined,\n        _v$7: undefined,\n        _v$8: undefined,\n        _v$9: undefined,\n        _v$10: undefined,\n        _v$11: undefined,\n        _v$12: undefined,\n        _v$13: undefined,\n        _v$14: undefined,\n        _v$15: undefined,\n        _v$16: undefined,\n        _v$17: undefined,\n        _v$18: undefined,\n        _v$19: undefined,\n        _v$20: undefined\n      });\n      return _el$;\n    }\n  });\n};\n$$registrations._Hot$$VirtualMarket = {\n  component: _Hot$$VirtualMarket,\n  id: \"_Hot$$VirtualMarket\"\n};\nconst {\n  handler: _handler,\n  Component: _Component\n} = _esm($$registrations._Hot$$VirtualMarket, !!import.meta.hot);\nif (import.meta.hot) import.meta.hot.accept(_mod => {\n  _handler(_mod) && import.meta.hot.invalidate();\n});\nexport default _Component;\nasync function placeOrder(event, setSearchParams, setCart) {\n  event.preventDefault();\n  let email = event.target.children[1].children[0].children[0].value;\n  let name = event.target.children[1].children[1].children[0].value;\n  let phone = event.target.children[1].children[2].children[0].value;\n  let address = event.target.children[1].children[3].children[0].value;\n  let deliveryInfo = event.target.children[1].children[4].children[0].value;\n  let textDeliveryUpdates = event.target.children[1].children[5].children[1].checked;\n  let newsletter = event.target.children[1].children[6].children[1].checked;\n  let cartItems = document.getElementsByClassName('cart-item');\n  let cart = Array.from(cartItems, item => ({\n    item: item.children[0].textContent,\n    flavor: item.children[1].tagName === 'TEXTAREA' ? item.children[1].value : '',\n    cost: item.children[1].tagName === 'TEXTAREA' ? item.children[2].value : item.children[1].value\n  }));\n  const supabase = createClient('https://rxznihvftodgtjdtzbyr.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4em5paHZmdG9kZ3RqZHR6YnlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Njg5MTgzNjUsImV4cCI6MTk4NDQ5NDM2NX0.Hqb-OC8vN2zoMZobwouS4QTGA0X0KLBQzM3O8btvwLE');\n  let response = await supabase.from('orders').insert({\n    email,\n    name,\n    phone,\n    address,\n    order: JSON.stringify(cart),\n    deliveryInfo,\n    textDeliveryUpdates,\n    newsletter\n  });\n  console.log(response.status);\n  setSearchParams({\n    orderStatus: response.status\n  });\n  if (response.status == 201) {\n    event.target.children[1].children[0].children[0].value = '';\n    event.target.children[1].children[1].children[0].value = '';\n    event.target.children[1].children[2].children[0].value = '';\n    event.target.children[1].children[3].children[0].value = '';\n    event.target.children[1].children[4].children[0].value = '';\n    event.target.children[1].children[5].children[1].checked = false;\n    event.target.children[1].children[6].children[1].checked = false;\n  }\n  setCart([]);\n}\n_$delegateEvents([\"click\"]);",
      "start": 1681505649587,
      "end": 1681505649748
    },
    {
      "name": "vite:import-analysis",
      "result": "import { createHotContext as __vite__createHotContext } from \"/@vite/client\";import.meta.hot = __vite__createHotContext(\"/src/routes/virtual-market/order.tsx\");import { template as _$template } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { delegateEvents as _$delegateEvents } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { runHydrationEvents as _$runHydrationEvents } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { setAttribute as _$setAttribute } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { memo as _$memo } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { use as _$use } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { className as _$className } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { effect as _$effect } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { getNextElement as _$getNextElement } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { getNextMarker as _$getNextMarker } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { insert as _$insert } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { createComponent as _$createComponent } from \"/node_modules/.vite/deps/solid-js_web.js?v=6ed96d96\";\nimport { esm as _esm } from \"/@solid-refresh\";\nconst _tmpl$ = /*#__PURE__*/_$template(`<div><p>Cart total if paying with cash: $<!#><!/></p><p>Cart total if paying with credit card / venmo / paypal: $<!#><!/></p></div>`, 10),\n  _tmpl$2 = /*#__PURE__*/_$template(`<br>`, 1),\n  _tmpl$3 = /*#__PURE__*/_$template(`<div><div><h2>Place an Order for the Holiday Virtual Market</h2><p>Place an order for the December 18th Holiday Virtual Market using the form below. The deadline for placing orders is Thursday, December 15th.</p><!#><!/><br><br><h4>Process of ordering cupcakes</h4><ol><li>Place an order by Thursday, December 15th using the form below. You will receive a confirmation email within a day confirming your order.</li><li>On Sunday, December 18th (the day of delivery), a more exact delivery time will be texted to you if you selected to get delivery notification texts.</li><li>Shortly before your order is delivered, you will receive another text.</li><li>When you receive your cupcakes, you can pay using cash, credit, venmo, etc. (there is a small fee if using anything except cash).</li><li>Enjoy your cupcakes!</li></ol><br>(If you select to have your cupcakes delivered to you at CHS, the process will be slightly different. See <!#><!/> for more information)<br> <br> <br><h4>Cupcake Flavors</h4><p>Vanilla-Vanilla<br>Vanilla-Chocolate<br>Chocolate-Vanilla<br>Chocolate-Chocolate<br>(Cake-Frosting)<br><br>Gingerbread - Gingerbread cake with a light cream cheese frosting<br>Panettone - Panettone cake with a mascarpone frosting<br></p><br> <br><h4>Penguin Chocolates Flavors</h4><p>Raspberry <br>Hazelnut <br>Caramel <br></p><br> <br><h4>Pricing</h4><p>Cupcakes and chocolates are sold by the box. A box can contain any mix of flavors.<br>Candied cashews are sold in 4oz bags</p><p>Delivery is free within Chatham and some neighboring towns. I am also a student at CHS, so I can deliver them to you at CHS on a school day following the market date. There may be an additional fee for deliveries more than a few miles out from Chatham. Contact me at <a href=\"mailto:oliver@tuxedocupcakes.com\" target=\"_blank\" rel=\"noopener noreferrer\">oliver@tuxedocupcakes.com</a> with any questions.</p></div><img src=\"/images/decorations/bow-divider.svg\"><div><h3>Products</h3><p>Click on a product to add it to your cart. Flavors are chosen in the cart (cart is below)</p> <br><div></div></div><img src=\"/images/decorations/bow-divider.svg\"><div><h3>Cart</h3><br><form action=\"\" method=\"post\"><div><!#><!/><!#><!/></div><div><div><input type=\"email\" name=\"email\" placeholder=\"*Email\" required></div><div><input type=\"text\" name=\"name\" placeholder=\"*Full Name\" required></div><div><input type=\"tel\" name=\"phone\" placeholder=\"*Phone Number\" required></div><div><input type=\"text\" name=\"address\" placeholder=\"*Address\" required></div><div><textarea name=\"shipping\" cols=\"10\" rows=\"3\" placeholder=\"Any extra details needed for delivery\n(not required)\nAre you a student or staff at CHS and want them delivered to you at CHS on Monday, December 19th? Specify here!\" spellcheck></textarea></div><div><p>Check box to get delivery texts</p><input type=\"checkbox\" name=\"deliveryTexts\"></div><div><p>Check box to sign up for occasional email updates about Tuxedo Cupcakes</p><input type=\"checkbox\" name=\"newsletter\"></div><div><input type=\"submit\" value=\"Place Order\"> (* = required)</div></div></form><div></div><p>The deadline for orders is Thursday, December 15th.<br> <br>Sign up to be updated about this virtual market and future virtual markets, as well as other news about Tuxedo Cupcakes:</p><!#><!/></div><img src=\"/images/decorations/bow-divider.svg\"><div><h3>Contact me</h3><h4>Contact me at<br><a href=\"mailto:oliver@tuxedocupcakes.com\" target=\"_blank\" rel=\"noopener noreferrer\">oliver@tuxedocupcakes.com</a></h4></div></div>`, 137),\n  _tmpl$4 = /*#__PURE__*/_$template(`<div><p></p><br><p>$<!#><!/></p></div>`, 9),\n  _tmpl$5 = /*#__PURE__*/_$template(`<p>Your cart is currently empty</p>`, 2),\n  _tmpl$6 = /*#__PURE__*/_$template(`<textarea name=\"flavors\" placeholder=\"*Flavor(s)\n(see above for flavors)\" required spellcheck></textarea>`, 2),\n  _tmpl$7 = /*#__PURE__*/_$template(`<div class=\"cart-item\"><p></p><!#><!/><p>$<!#><!/></p><button>x</button></div>`, 12);\nimport { createEffect, createSignal, For, Match, Show, Switch } from '/node_modules/.vite/deps/solid-js.js?v=6ed96d96';\nimport Layout from '/src/components/Layout/index.tsx';\nimport styles from '/src/routes/virtual-market/order.module.scss';\nimport { createClient } from '/node_modules/.vite/deps/@supabase_supabase-js.js?v=d142efd7';\nimport { useSearchParams, A } from '/node_modules/.pnpm/solid-start@0.2.5_qx3wzgkguxvthvssnutneqxbxi/node_modules/solid-start/index.tsx?v=5c95b2a1';\nimport EmailForm from '/src/components/EmailForm/index.tsx';\nconst products = [{\n  name: 'Box of 2 regular cupcakes',\n  cost: 8,\n  custom: 'flavor'\n}, {\n  name: 'Box of 4 regular cupcakes',\n  cost: 15,\n  custom: 'flavor'\n}, {\n  name: 'Box of 6 regular cupcakes',\n  cost: 20,\n  custom: 'flavor'\n}, {\n  name: 'Box of 12 regular cupcakes',\n  cost: 40,\n  custom: 'flavor'\n}, {\n  name: 'Box of 6 mini cupcakes',\n  cost: 10,\n  custom: 'flavor'\n}, {\n  name: 'Box of 12 mini cupcakes',\n  cost: 20,\n  custom: 'flavor'\n}, {\n  name: 'Box of 6 penguin chocolates',\n  cost: 15,\n  custom: 'flavor'\n}, {\n  name: 'Box of 12 penguin chocolates',\n  cost: 25,\n  custom: 'flavor'\n}, {\n  name: 'Caramel Cashews - 4oz',\n  cost: 5,\n  custom: 'none'\n}];\nexport const $$registrations = {};\nconst _Hot$$VirtualMarket = function VirtualMarket() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [dates, setDates] = createSignal([[new Date(2022, 11, 18), 'Gingerbread & Panettone']]);\n  const [cart, setCart] = createSignal([], {\n    equals: false\n  });\n  let placeOrderButton;\n  createEffect(() => {\n    if (cart().length === 0) {\n      placeOrderButton.children[0].disabled = true;\n    } else {\n      placeOrderButton.children[0].disabled = false;\n    }\n  });\n  return _$createComponent(Layout, {\n    get children() {\n      const _el$ = _$getNextElement(_tmpl$3),\n        _el$2 = _el$.firstChild,\n        _el$3 = _el$2.firstChild,\n        _el$4 = _el$3.nextSibling,\n        _el$13 = _el$4.nextSibling,\n        [_el$14, _co$] = _$getNextMarker(_el$13.nextSibling),\n        _el$5 = _el$14.nextSibling,\n        _el$6 = _el$5.nextSibling,\n        _el$7 = _el$6.nextSibling,\n        _el$8 = _el$7.nextSibling,\n        _el$9 = _el$8.nextSibling,\n        _el$10 = _el$9.nextSibling,\n        _el$15 = _el$10.nextSibling,\n        [_el$16, _co$2] = _$getNextMarker(_el$15.nextSibling),\n        _el$12 = _el$16.nextSibling,\n        _el$17 = _el$2.nextSibling,\n        _el$18 = _el$17.nextSibling,\n        _el$19 = _el$18.firstChild,\n        _el$20 = _el$19.nextSibling,\n        _el$21 = _el$20.nextSibling,\n        _el$22 = _el$21.nextSibling,\n        _el$23 = _el$22.nextSibling,\n        _el$24 = _el$18.nextSibling,\n        _el$25 = _el$24.nextSibling,\n        _el$26 = _el$25.firstChild,\n        _el$27 = _el$26.nextSibling,\n        _el$28 = _el$27.nextSibling,\n        _el$29 = _el$28.firstChild,\n        _el$39 = _el$29.firstChild,\n        [_el$40, _co$5] = _$getNextMarker(_el$39.nextSibling),\n        _el$41 = _el$40.nextSibling,\n        [_el$42, _co$6] = _$getNextMarker(_el$41.nextSibling),\n        _el$43 = _el$29.nextSibling,\n        _el$44 = _el$43.firstChild,\n        _el$45 = _el$44.nextSibling,\n        _el$46 = _el$45.nextSibling,\n        _el$47 = _el$46.nextSibling,\n        _el$48 = _el$47.nextSibling,\n        _el$49 = _el$48.nextSibling,\n        _el$50 = _el$49.nextSibling,\n        _el$51 = _el$50.nextSibling,\n        _el$52 = _el$28.nextSibling,\n        _el$62 = _el$52.nextSibling,\n        _el$63 = _el$62.nextSibling,\n        [_el$64, _co$7] = _$getNextMarker(_el$63.nextSibling),\n        _el$65 = _el$25.nextSibling,\n        _el$66 = _el$65.nextSibling;\n      _$insert(_el$2, _$createComponent(A, {\n        href: \"/virtual-market/faqs\",\n        children: \"Virtual Market FAQs\"\n      }), _el$14, _co$);\n      _$insert(_el$2, _$createComponent(A, {\n        href: \"/virtual-market/faqs\",\n        children: \"the FAQs\"\n      }), _el$16, _co$2);\n      _$insert(_el$23, _$createComponent(For, {\n        each: products,\n        children: (product, i) => (() => {\n          const _el$67 = _$getNextElement(_tmpl$4),\n            _el$68 = _el$67.firstChild,\n            _el$69 = _el$68.nextSibling,\n            _el$70 = _el$69.nextSibling,\n            _el$71 = _el$70.firstChild,\n            _el$72 = _el$71.nextSibling,\n            [_el$73, _co$8] = _$getNextMarker(_el$72.nextSibling);\n          _el$67.$$click = () => {\n            setCart([...cart(), product]);\n          };\n          _$insert(_el$68, () => product.name);\n          _$insert(_el$70, () => product.cost, _el$73, _co$8);\n          _$effect(_p$ => {\n            const _v$21 = styles.productName,\n              _v$22 = styles.productCost;\n            _v$21 !== _p$._v$21 && _$className(_el$68, _p$._v$21 = _v$21);\n            _v$22 !== _p$._v$22 && _$className(_el$70, _p$._v$22 = _v$22);\n            return _p$;\n          }, {\n            _v$21: undefined,\n            _v$22: undefined\n          });\n          _$runHydrationEvents();\n          return _el$67;\n        })()\n      }));\n      _el$28.addEventListener(\"submit\", event => {\n        placeOrder(event, setSearchParams, setCart);\n      });\n      _$insert(_el$29, _$createComponent(For, {\n        get each() {\n          return cart();\n        },\n        get fallback() {\n          return _$getNextElement(_tmpl$5);\n        },\n        children: (item, i) => (() => {\n          const _el$75 = _$getNextElement(_tmpl$7),\n            _el$76 = _el$75.firstChild,\n            _el$83 = _el$76.nextSibling,\n            [_el$84, _co$10] = _$getNextMarker(_el$83.nextSibling),\n            _el$78 = _el$84.nextSibling,\n            _el$79 = _el$78.firstChild,\n            _el$80 = _el$79.nextSibling,\n            [_el$81, _co$9] = _$getNextMarker(_el$80.nextSibling),\n            _el$82 = _el$78.nextSibling;\n          _$insert(_el$76, () => item.name);\n          _$insert(_el$75, _$createComponent(Show, {\n            get when() {\n              return item.custom === 'flavor';\n            },\n            get children() {\n              return _$getNextElement(_tmpl$6);\n            }\n          }), _el$84, _co$10);\n          _$insert(_el$78, () => item.cost, _el$81, _co$9);\n          _el$82.$$click = () => {\n            let cartItems = cart();\n            cartItems.splice(i(), 1);\n            setCart(cartItems);\n          };\n          _$effect(_p$ => {\n            const _v$23 = styles.name,\n              _v$24 = styles.cost;\n            _v$23 !== _p$._v$23 && _$className(_el$76, _p$._v$23 = _v$23);\n            _v$24 !== _p$._v$24 && _$className(_el$78, _p$._v$24 = _v$24);\n            return _p$;\n          }, {\n            _v$23: undefined,\n            _v$24: undefined\n          });\n          _$runHydrationEvents();\n          return _el$75;\n        })()\n      }), _el$40, _co$5);\n      _$insert(_el$29, _$createComponent(Show, {\n        get when() {\n          return cart().length !== 0;\n        },\n        get children() {\n          const _el$30 = _$getNextElement(_tmpl$),\n            _el$31 = _el$30.firstChild,\n            _el$32 = _el$31.firstChild,\n            _el$33 = _el$32.nextSibling,\n            [_el$34, _co$3] = _$getNextMarker(_el$33.nextSibling),\n            _el$35 = _el$31.nextSibling,\n            _el$36 = _el$35.firstChild,\n            _el$37 = _el$36.nextSibling,\n            [_el$38, _co$4] = _$getNextMarker(_el$37.nextSibling);\n          _$insert(_el$31, () => cart().reduce((sum, next) => sum + next.cost, 0), _el$34, _co$3);\n          _$insert(_el$35, () => Math.round((cart().reduce((sum, next) => sum + next.cost, 0) * 1.025 + 0.09) * 100) / 100, _el$38, _co$4);\n          _$effect(() => _$className(_el$30, styles.cartTotal));\n          return _el$30;\n        }\n      }), _el$42, _co$6);\n      const _ref$ = placeOrderButton;\n      typeof _ref$ === \"function\" ? _$use(_ref$, _el$51) : placeOrderButton = _el$51;\n      _$insert(_el$52, _$createComponent(Switch, {\n        get children() {\n          return [_$createComponent(Match, {\n            get when() {\n              return searchParams.orderStatus === '201';\n            },\n            get children() {\n              return [\"Order placed!\", _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2)];\n            }\n          }), _$createComponent(Match, {\n            get when() {\n              return searchParams.orderStatus === '409';\n            },\n            get children() {\n              return [\"An unknown error occurred. Try again.\", _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2)];\n            }\n          }), _$createComponent(Match, {\n            get when() {\n              return searchParams.orderStatus !== '201' && searchParams.orderStatus !== '409' && searchParams.orderStatus !== undefined;\n            },\n            get children() {\n              return [\"An unknown error occurred. Try again.\", _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2), _$getNextElement(_tmpl$2)];\n            }\n          })];\n        }\n      }));\n      _$insert(_el$25, _$createComponent(EmailForm, {}), _el$64, _co$7);\n      _$effect(_p$ => {\n        const _v$ = styles.sections,\n          _v$2 = `${styles.section} ${styles.one}`,\n          _v$3 = styles.divider,\n          _v$4 = `${styles.section} ${styles.two}`,\n          _v$5 = styles.productGrid,\n          _v$6 = styles.divider,\n          _v$7 = `${styles.section} ${styles.three}`,\n          _v$8 = styles.order,\n          _v$9 = styles.orderForm,\n          _v$10 = styles.email,\n          _v$11 = styles.name,\n          _v$12 = styles.phone,\n          _v$13 = styles.address,\n          _v$14 = styles.shipping,\n          _v$15 = styles.deliveryTexts,\n          _v$16 = styles.newsletter,\n          _v$17 = styles.placeOrder,\n          _v$18 = styles.orderStatus,\n          _v$19 = styles.divider,\n          _v$20 = `${styles.section} ${styles.four}`;\n        _v$ !== _p$._v$ && _$className(_el$, _p$._v$ = _v$);\n        _v$2 !== _p$._v$2 && _$className(_el$2, _p$._v$2 = _v$2);\n        _v$3 !== _p$._v$3 && _$className(_el$17, _p$._v$3 = _v$3);\n        _v$4 !== _p$._v$4 && _$className(_el$18, _p$._v$4 = _v$4);\n        _v$5 !== _p$._v$5 && _$setAttribute(_el$23, \"id\", _p$._v$5 = _v$5);\n        _v$6 !== _p$._v$6 && _$className(_el$24, _p$._v$6 = _v$6);\n        _v$7 !== _p$._v$7 && _$className(_el$25, _p$._v$7 = _v$7);\n        _v$8 !== _p$._v$8 && _$setAttribute(_el$29, \"id\", _p$._v$8 = _v$8);\n        _v$9 !== _p$._v$9 && _$setAttribute(_el$43, \"id\", _p$._v$9 = _v$9);\n        _v$10 !== _p$._v$10 && _$setAttribute(_el$44, \"id\", _p$._v$10 = _v$10);\n        _v$11 !== _p$._v$11 && _$setAttribute(_el$45, \"id\", _p$._v$11 = _v$11);\n        _v$12 !== _p$._v$12 && _$setAttribute(_el$46, \"id\", _p$._v$12 = _v$12);\n        _v$13 !== _p$._v$13 && _$setAttribute(_el$47, \"id\", _p$._v$13 = _v$13);\n        _v$14 !== _p$._v$14 && _$setAttribute(_el$48, \"id\", _p$._v$14 = _v$14);\n        _v$15 !== _p$._v$15 && _$setAttribute(_el$49, \"id\", _p$._v$15 = _v$15);\n        _v$16 !== _p$._v$16 && _$setAttribute(_el$50, \"id\", _p$._v$16 = _v$16);\n        _v$17 !== _p$._v$17 && _$setAttribute(_el$51, \"id\", _p$._v$17 = _v$17);\n        _v$18 !== _p$._v$18 && _$setAttribute(_el$52, \"id\", _p$._v$18 = _v$18);\n        _v$19 !== _p$._v$19 && _$className(_el$65, _p$._v$19 = _v$19);\n        _v$20 !== _p$._v$20 && _$className(_el$66, _p$._v$20 = _v$20);\n        return _p$;\n      }, {\n        _v$: undefined,\n        _v$2: undefined,\n        _v$3: undefined,\n        _v$4: undefined,\n        _v$5: undefined,\n        _v$6: undefined,\n        _v$7: undefined,\n        _v$8: undefined,\n        _v$9: undefined,\n        _v$10: undefined,\n        _v$11: undefined,\n        _v$12: undefined,\n        _v$13: undefined,\n        _v$14: undefined,\n        _v$15: undefined,\n        _v$16: undefined,\n        _v$17: undefined,\n        _v$18: undefined,\n        _v$19: undefined,\n        _v$20: undefined\n      });\n      return _el$;\n    }\n  });\n};\n$$registrations._Hot$$VirtualMarket = {\n  component: _Hot$$VirtualMarket,\n  id: \"_Hot$$VirtualMarket\"\n};\nconst {\n  handler: _handler,\n  Component: _Component\n} = _esm($$registrations._Hot$$VirtualMarket, !!import.meta.hot);\nif (import.meta.hot) import.meta.hot.accept(_mod => {\n  _handler(_mod) && import.meta.hot.invalidate();\n});\nexport default _Component;\nasync function placeOrder(event, setSearchParams, setCart) {\n  event.preventDefault();\n  let email = event.target.children[1].children[0].children[0].value;\n  let name = event.target.children[1].children[1].children[0].value;\n  let phone = event.target.children[1].children[2].children[0].value;\n  let address = event.target.children[1].children[3].children[0].value;\n  let deliveryInfo = event.target.children[1].children[4].children[0].value;\n  let textDeliveryUpdates = event.target.children[1].children[5].children[1].checked;\n  let newsletter = event.target.children[1].children[6].children[1].checked;\n  let cartItems = document.getElementsByClassName('cart-item');\n  let cart = Array.from(cartItems, item => ({\n    item: item.children[0].textContent,\n    flavor: item.children[1].tagName === 'TEXTAREA' ? item.children[1].value : '',\n    cost: item.children[1].tagName === 'TEXTAREA' ? item.children[2].value : item.children[1].value\n  }));\n  const supabase = createClient('https://rxznihvftodgtjdtzbyr.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ4em5paHZmdG9kZ3RqZHR6YnlyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Njg5MTgzNjUsImV4cCI6MTk4NDQ5NDM2NX0.Hqb-OC8vN2zoMZobwouS4QTGA0X0KLBQzM3O8btvwLE');\n  let response = await supabase.from('orders').insert({\n    email,\n    name,\n    phone,\n    address,\n    order: JSON.stringify(cart),\n    deliveryInfo,\n    textDeliveryUpdates,\n    newsletter\n  });\n  console.log(response.status);\n  setSearchParams({\n    orderStatus: response.status\n  });\n  if (response.status == 201) {\n    event.target.children[1].children[0].children[0].value = '';\n    event.target.children[1].children[1].children[0].value = '';\n    event.target.children[1].children[2].children[0].value = '';\n    event.target.children[1].children[3].children[0].value = '';\n    event.target.children[1].children[4].children[0].value = '';\n    event.target.children[1].children[5].children[1].checked = false;\n    event.target.children[1].children[6].children[1].checked = false;\n  }\n  setCart([]);\n}\n_$delegateEvents([\"click\"]);",
      "start": 1681505649748,
      "end": 1681505649753
    }
  ],
  "virtual": false
}